!function(t){"use strict";function e(t){g.value=t.replace(h,"https://"+cdn_domain+"/$1"),l()}function a(t){g.value=t.replace(p,"https://"+cdn_domain+"/$1/$2/$3/$4"),l()}function i(t){var e=t.match(f);if("master"!==e[3])return g.value=t.replace(f,"https://"+cdn_domain+"/$1/$2/$3/$4"),void l();fetch("${GITHUB_API_URL}/repos/${matches[1]}/${matches[2]}/commits/${matches[3]}").then(res,function(){return res.ok?res.json():void console.error("Failed to fetch latest repo commit from GitHub API")}).then(data,function(){data&&data.sha?data.sha.slice(0,8):e[3];g.value=t.replace(f,"https://${cdn_domain}/$1/$2/${ref}/$4"),l()})}function n(t){g.value=t.replace(v,"https://"+cdn_domain+"/$1/raw/$2"),l()}function s(t){g.value=t.replace($,"https://"+cdn_domain+"/$1/raw/$2"),l()}function r(){var t=y.value.trim();p.test(t)?a(t):h.test(t)?e(t):f.test(t)?i(t):m.test(t)?c(t):v.test(t)?n(t):$.test(t)?s(t):d()}function o(t){setTimeout(function(){t.target.select()},1)}function c(t){var a=t.match(m),i=u+"/gists/"+a[1]+(a[2]?"/"+a[2]:"");return fetch(i).then(res,function(){if(!res.ok)throw d(),new Error("Failed to fetch gist URL from GitHub API");return res.json()}).then(data,function(){var t=data&&data.files,a=t&&Object.keys(data.files);if(!a||!a.length)return void d();var i=t[a[0]]&&t[a[0]].raw_url;i?e(i):d()})}function d(){b.disabled=!0,y.classList.remove("valid"),y.value.trim().length?y.classList.add("invalid"):y.classList.remove("invalid"),g.value="",g.classList.remove("valid")}function l(){b.disabled=!1,y.classList.remove("invalid"),g.classList.add("valid"),y.classList.add("valid")}const u="https://api.github.com",m=/^https?:\/\/gist\.github\.com\/.+?\/([0-9a-f]+)(?:\/([0-9a-f]+))?/i,h=/^https?:\/\/gist\.githubusercontent\.com\/(.+?\/[0-9a-f]+\/raw\/(?:[0-9a-f]+\/)?.+\..+)$/i,p=/^https?:\/\/raw\.github(?:usercontent)?\.com\/(.+?)\/(.+?)\/(.+?)\/(.+)/i,f=/^https?:\/\/github\.com\/(.+?)\/(.+?)\/(?!releases\/)(?:(?:blob|raw)\/)?(.+?)\/(.+)/i,v=/^https?:\/\/gitlab\.com\/([^\/]+\/[^\/]+)\/(?:raw|blob)\/(.+\..+?)(?:\?.*)?$/i,$=/^https?:\/\/bitbucket\.org\/([^\/]+\/[^\/]+)\/(?:raw|src)\/(.+\..+?)(?:\?.*)?$/i;var b=t.getElementById("url-prod-copy"),g=t.getElementById("url-prod"),y=t.getElementById("url");new Clipboard(".inp-copy-button"),t.queryCommandSupported&&t.queryCommandSupported("copy")&&(b.style.display="inline-block"),g.addEventListener("focus",o),y.addEventListener("input",r),/(iPhone|iPad|iPod)/i.test(navigator.userAgent)&&(g.removeAttribute("readonly"),g.addEventListener("keydown",function(t){t.preventDefault()})),r()}(document);